<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Talking Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <h2 id="title">Tap to hear directions</h2>
    <button id="playBtn" style="font-size:20px;padding:15px;">
        â–¶ Play Voice & Open Map
    </button>

    <script>
        const locations = {
            ekimae: {
                text: "KCGI Student will first visit Ekimae campus after landing to Japan Student will first visit Ekimae campus and Sign documents and collect Room Keys",
                map: "https://maps.app.goo.gl/kXQRCce1vFx5fcCdA"
            },
            hblock: {
                text: "This is H Block. Students will create their Student ID Card, register for classes, Sign Scholorship documents and attend the Classes from here.",
                map: "https://maps.app.goo.gl/PUT_BLOCK_A_LINK"
            },
            mblock: {
                text: "This is M Block. Students will attend classes from here too.",
                map: "https://maps.app.goo.gl/PUT_BLOCK_B_LINK"
            }
        };

        // Read URL parameter
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id") || "gate";
        const loc = locations[id];

        // Safety check
        if (!loc) {
            document.getElementById("title").innerText = "Invalid location";
            document.getElementById("playBtn").style.display = "none";
        }

        // Button action
        document.getElementById("playBtn").onclick = () => {
            const speech = new SpeechSynthesisUtterance(loc.text);
            speech.lang = "en-US";
            speechSynthesis.speak(speech);

            setTimeout(() => {
                window.location.href = loc.map;
            }, 3000);
        };
    </script>

</body>

</html>